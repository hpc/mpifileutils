drm
===

SYNOPSIS
--------

**drm [OPTION] PATH...**

DESCRIPTION
-----------

Parallel MPI application to recursively delete a directory and its
contents.

drm is a tool for removing files recursively in parallel.
drm behaves like `rm -rf`, but it is faster.

OPTIONS
-------

.. option:: -i, --input FILE

   Read source list from FILE. FILE must be generated by another tool
   from the mpiFileUtils suite.

.. option:: -l, --lite

   Walk file system without stat.

.. option:: --exclude REGEX

   Do not remove items whose full path matches REGEX, processed by :manpage:`regexec(3)`.

.. option:: --match REGEX

   Only remove items whose full path matches REGEX, processed by
   :manpage:`regexec(3)`.

.. option:: --name

   Change --exclude and match to apply to item name rather than its
   full path.

.. option:: --dryrun

   Print a list of files that **would** be deleted without deleting
   them. This is useful to check list of items satisfying --exclude or
   --match options before actually deleting anything.

.. option:: -T, --traceless

   Delete child items without updating the mtime on their parent directory.

.. option:: -v, --verbose

   Run in verbose mode.

.. option:: -h, --help

   Print a brief message listing the :manpage:`drm(1)` options and usage.

EXAMPLES
--------

1. To delete a directory and its contents:

``mpirun -np 128 drm -v /dir/to/delete``

2. Delete all items (files and directories) ending with .core from
   directory tree:

``mpirun -np 128 drm --match '.core$' /dir/to/delete/from``

3. List items that would be deleted without removing them:

``mpirun -np 128 drm --dryrun --match '.core$' /dir/to/delete/from``

4. Delete all items named foo:

``mpirun -np 128 drm --name --match '^foo$' /dir/to/delete/from``

SEE ALSO
--------

The mpiFileUtils source code and all documentation may be downloaded
from <https://github.com/hpc/mpifileutils>

.\" Man page generated from reStructuredText.
.
.TH "DSTRIPE" "1" "Feb 04, 2022" "0.11.1" "mpiFileUtils"
.SH NAME
dstripe \- restripe files on underlying storage
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.sp
\fBdstripe [OPTION] PATH…\fP
.SH DESCRIPTION
.sp
Parallel MPI application to restripe files.
.sp
This tool is in active development. It currently only works on Lustre.
.sp
dstripe enables one to restripe file(s) across the underlying storage
devices. One must specify a list of paths. All files in those paths can
be restriped. By default, stripe size is 1MB and stripe count is \-1
allowing dstripe to use all available stripes.
.SH OPTIONS
.INDENT 0.0
.TP
.B \-c, \-\-count STRIPE_COUNT
The number of stripes to use during file restriping. If STRIPE_COUNT
is \-1, then all available stripes are used. If STRIPE_COUNT is 0,
the lustre file system default is used. The default stripe count is
\-1.
.UNINDENT
.INDENT 0.0
.TP
.B \-s, \-\-size STRIPE_SIZE
The stripe size to use during file restriping. Units like “MB” and
“GB” can immediately follow the number without spaces (ex. 2MB). The
default stripe size is 1MB.
.UNINDENT
.INDENT 0.0
.TP
.B \-m, \-\-minsize SIZE
The minimum size a file must be to be a candidate for restriping.
Files smaller than SIZE will not be restriped. Units like “MB” and
“GB” can immediately follow the number without spaces (ex. 2MB). The
default minimum file size is 0MB.
.UNINDENT
.INDENT 0.0
.TP
.B \-r, \-\-report
Display the file size, stripe count, and stripe size of all files
found in PATH. No restriping is performed when using this option.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-progress N
Print progress message to stdout approximately every N seconds.
The number of seconds must be a non\-negative integer.
A value of 0 disables progress messages.
.UNINDENT
.INDENT 0.0
.TP
.B \-v, \-\-verbose
Run in verbose mode.
.UNINDENT
.INDENT 0.0
.TP
.B \-q, \-\-quiet
Run tool silently. No output is printed.
.UNINDENT
.INDENT 0.0
.TP
.B \-h, \-\-help
Print the command usage, and the list of options available.
.UNINDENT
.SH EXAMPLES
.INDENT 0.0
.IP 1. 3
To stripe a file on all storage devices using a 1MB stripe size:
.UNINDENT
.sp
\fBmpirun \-np 128 dstripe \-s 1MB /path/to/file\fP
.INDENT 0.0
.IP 2. 3
To stripe a file across 20 storage devices with a 1GB stripe size:
.UNINDENT
.sp
\fBmpirun \-np 128 dstripe \-c 20 \-s 1GB /path/to/file\fP
.INDENT 0.0
.IP 3. 3
To restripe all files in /path/to/files/ that are at least 1GB in
size:
.UNINDENT
.sp
\fBmpirun \-np 128 dstripe \-m 1GB /path/to/files/\fP
.INDENT 0.0
.IP 4. 3
To restripe all files in /path/to/files/ across 10 storage devices
with 2MB stripe size:
.UNINDENT
.sp
\fBmpirun \-np 128 dstripe \-c 10 \-s 2MB /path/to/files/\fP
.INDENT 0.0
.IP 5. 3
To display the current stripe count and stripe size of all files in
/path/to/files/:
.UNINDENT
.sp
\fBmpirun \-np 128 dstripe \-r /path/to/files/\fP
.SH SEE ALSO
.sp
The mpiFileUtils source code and all documentation may be downloaded
from <\fI\%https://github.com/hpc/mpifileutils\fP>
.SH AUTHOR
HPC
.SH COPYRIGHT
2022, LLNL/LANL/UT-Battelle/DDN
.\" Generated by docutils manpage writer.
.

.\" Man page generated from reStructuredText.
.
.TH "DBCAST" "1" "Feb 04, 2022" "0.11.1" "mpiFileUtils"
.SH NAME
dbcast \- distributed broadcast
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.sp
\fBdbcast [OPTION] SRC DEST\fP
.SH DESCRIPTION
.sp
Parallel MPI application to broadcast a single file from a
global file system to node\-local storage, like ramdisk or an SSD.
.sp
The file is logically sliced into chunks and collectively copied from a
global file system to node\-local storage. The bytes of the source file
are read from the global file system once and the data are forwarded
through MPI to be written to storage on all compute nodes.
The source file SRC must be readable by all MPI processes.
The destination file DEST should be the
full path of the file in node\-local storage. If needed, parent
directories for the destination file will be created as part of the
broadcast.
.sp
In the current implementation, dbcast requires at least two MPI
processes per compute node, and all compute nodes must run an equal
number of MPI processes.
.SH OPTIONS
.INDENT 0.0
.TP
.B \-s, \-\-size SIZE
The chunk size in bytes used to segment files during the broadcast.
Units like “MB” and “GB” should be immediately follow the number
without spaces (ex. 2MB). The default size is 1MB. It is recommended
to use the stripe size of a file if this is known.
.UNINDENT
.INDENT 0.0
.TP
.B \-h, \-\-help
Print the command usage, and the list of options available.
.UNINDENT
.SH EXAMPLES
.INDENT 0.0
.IP 1. 3
To broadcast a file to /ssd on each node:
.UNINDENT
.sp
\fBmpirun \-np 128 dbcast /global/path/to/filenane /ssd/filename\fP
.INDENT 0.0
.IP 2. 3
Same thing, but slicing at 10MB chunks:
.UNINDENT
.sp
\fBmpirun \-np 128 dbcast \-s 10MB /global/path/to/filenane /ssd/filename\fP
.INDENT 0.0
.IP 3. 3
To read the current striping parameters of a file on Lustre:
.UNINDENT
.sp
\fBlfs getstripe /global/path/to/filename\fP
.SH SEE ALSO
.sp
The mpiFileUtils source code and all documentation may be downloaded
from <\fI\%https://github.com/hpc/mpifileutils\fP>
.SH AUTHOR
HPC
.SH COPYRIGHT
2022, LLNL/LANL/UT-Battelle/DDN
.\" Generated by docutils manpage writer.
.

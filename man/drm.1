.\" Man page generated from reStructuredText.
.
.TH "DRM" "1" "Feb 04, 2022" "0.11.1" "mpiFileUtils"
.SH NAME
drm \- distributed remove
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.sp
\fBdrm [OPTION] PATH…\fP
.SH DESCRIPTION
.sp
Parallel MPI application to recursively delete a directory and its
contents.
.sp
drm is a tool for removing files recursively in parallel.
drm behaves like \fIrm \-rf\fP, but it is faster.
.sp
\fBNOTE:\fP
.INDENT 0.0
.INDENT 3.5
DO NOT USE SHELL REGEX!!!
The –match and –exclude options use POSIX regex syntax. Because of
this make sure that the shell does not try to interpret your regex before
it gets passed to the program. You can generally use quotes around your
regex to prevent the shell from expanding. An example of this using the
–match option with –dryrun would be:
.sp
\fBmpirun \-np 128 drm \-\-dryrun \-v \-\-name \-\-match \(aqfile_.*\(aq /path/to/dir/*\fP
.UNINDENT
.UNINDENT
.SH OPTIONS
.INDENT 0.0
.TP
.B \-i, \-\-input FILE
Read source list from FILE. FILE must be generated by another tool
from the mpiFileUtils suite.
.UNINDENT
.INDENT 0.0
.TP
.B \-o, \-\-output FILE
Write the list of items drm attempts to delete to FILE in mpiFileUtils format.
Format can be changed with –text option.
.UNINDENT
.INDENT 0.0
.TP
.B \-t, \-\-text
Must be used with the –output option. Write list of items drm attempts
to delete to FILE in ascii text format.
.UNINDENT
.INDENT 0.0
.TP
.B \-l, \-\-lite
Walk file system without stat.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-stat
Walk file system with stat.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-exclude REGEX
Do not remove items whose full path matches REGEX, processed by \fBregexec(3)\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-match REGEX
Only remove items whose full path matches REGEX, processed by
\fBregexec(3)\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-name
Change –exclude and match to apply to item name rather than its
full path.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dryrun
Print a list of files that \fBwould\fP be deleted without deleting
them. This is useful to check list of items satisfying –exclude or
–match options before actually deleting anything.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-aggressive
This option will delete files during the walk phase, and then
delete directories by level after the walk in drm. You cannot
use this option with –dryrun.
.UNINDENT
.INDENT 0.0
.TP
.B \-T, \-\-traceless
Delete child items without updating the mtime on their parent directory.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-progress N
Print progress message to stdout approximately every N seconds.
The number of seconds must be a non\-negative integer.
A value of 0 disables progress messages.
.UNINDENT
.INDENT 0.0
.TP
.B \-v, \-\-verbose
Run in verbose mode.
.UNINDENT
.INDENT 0.0
.TP
.B \-q, \-\-quiet
Run tool silently. No output is printed.
.UNINDENT
.INDENT 0.0
.TP
.B \-h, \-\-help
Print a brief message listing the \fBdrm(1)\fP options and usage.
.UNINDENT
.SH EXAMPLES
.INDENT 0.0
.IP 1. 3
To delete a directory and its contents:
.UNINDENT
.sp
\fBmpirun \-np 128 drm \-v /dir/to/delete\fP
.INDENT 0.0
.IP 2. 3
Delete all items (files and directories) ending with .core from
directory tree:
.UNINDENT
.sp
\fBmpirun \-np 128 drm \-\-match \(aq.core$\(aq /dir/to/delete/from\fP
.INDENT 0.0
.IP 3. 3
List items that would be deleted without removing them:
.UNINDENT
.sp
\fBmpirun \-np 128 drm \-\-dryrun \-\-match \(aq.core$\(aq /dir/to/delete/from\fP
.INDENT 0.0
.IP 4. 3
Delete all items named foo:
.UNINDENT
.sp
\fBmpirun \-np 128 drm \-\-name \-\-match \(aq^foo$\(aq /dir/to/delete/from\fP
.SH SEE ALSO
.sp
The mpiFileUtils source code and all documentation may be downloaded
from <\fI\%https://github.com/hpc/mpifileutils\fP>
.SH AUTHOR
HPC
.SH COPYRIGHT
2022, LLNL/LANL/UT-Battelle/DDN
.\" Generated by docutils manpage writer.
.

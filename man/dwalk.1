.\" Man page generated from reStructuredText.
.
.TH "DWALK" "1" "Feb 04, 2022" "0.11.1" "mpiFileUtils"
.SH NAME
dwalk \- distributed walk and list
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.sp
\fBdwalk [OPTION] PATH …\fP
.SH DESCRIPTION
.sp
Parallel MPI application to recursively walk and list contents in a
directory.
.sp
dwalk provides functionality similar to \fBls(1)\fP and \fBdu(1)\fP\&. Like
\fBdu(1)\fP, the tool reports a summary of the total number of files and
bytes. Like \fBls(1)\fP, the tool sorts and prints information about
individual files.
.sp
The output can be sorted on different fields (e.g, name, user, group,
size, etc). A histogram of file sizes can be computed listing the number
of files that fall into user\-defined bins.
.SH OPTIONS
.INDENT 0.0
.TP
.B \-i, \-\-input FILE
Read source list from FILE. FILE must be generated by another tool
from the mpiFileUtils suite.
.UNINDENT
.INDENT 0.0
.TP
.B \-o, \-\-output FILE
Write the processed list to FILE in binary format. Format can be changed
With –text option.
.UNINDENT
.INDENT 0.0
.TP
.B \-t, \-\-text
Must be used with the –output option. Write processed list of files to
FILE in ascii text format.
.UNINDENT
.INDENT 0.0
.TP
.B \-l, \-\-lite
Walk file system without stat.
.UNINDENT
.INDENT 0.0
.TP
.B \-s, \-\-sort FIELD
Sort output by comma\-delimited fields (see below).
.UNINDENT
.INDENT 0.0
.TP
.B \-d, \-\-distribution size:SEPARATORS
Print the distribution of file sizes. For example, specifying
size:0,80,100 will report the number of files that have size 0
bytes, between 1\-80 bytes, between 81\-99 bytes, and 100 bytes or
greater.
.UNINDENT
.INDENT 0.0
.TP
.B \-f, \-\-file\-histogram
Creates a file histogram without requiring the user to provide
the bin sizes. The bins are created dynamically based on the
max file size. The first bin is always for only zero byte
files, and the rest go up until the max file size is included
in the very last bin. It always goes up by orders of magnitude
in powers of two. So, an example of bin separators would be:
0, 2^10, 2^20, 2^30. Assuming the max file size was somewhere
within the 2^20 \- 2^30 range. The histogram also includes both
files and directories.
.UNINDENT
.INDENT 0.0
.TP
.B \-p, \-\-print
Print files to the screen.
.UNINDENT
.INDENT 0.0
.TP
.B \-L, \-\-dereference
Dereference symbolic links and walk the target file or directory
that each symbolic link refers to.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-progress N
Print progress message to stdout approximately every N seconds.
The number of seconds must be a non\-negative integer.
A value of 0 disables progress messages.
.UNINDENT
.INDENT 0.0
.TP
.B \-v, \-\-verbose
Run in verbose mode.
.UNINDENT
.INDENT 0.0
.TP
.B \-q, \-\-quiet
Run tool silently. No output is printed.
.UNINDENT
.INDENT 0.0
.TP
.B \-h, \-\-help
Print usage.
.UNINDENT
.SH SORT FIELDS
.sp
By default, the list of files dwalk captures is not sorted. To sort the
list, one or more fields can be specified in a comma\-delimited list:
.sp
name,user,group,uid,gid,atime,mtime,ctime,size
.sp
A field name can be preceded with ‘\-’ to sort by that field in reverse
order.
.sp
A lexicographic sort is executed if more than one field is given.
.SH EXAMPLES
.INDENT 0.0
.IP 1. 3
To print summary information for a directory:
.UNINDENT
.sp
\fBmpirun \-np 128 dwalk \-v /dir/to/walk\fP
.INDENT 0.0
.IP 2. 3
To print a list of files, sorted by file size, then by file name:
.UNINDENT
.sp
\fBmpirun \-np 128 dwalk –print –sort size,name /dir/to/walk\fP
.INDENT 0.0
.IP 3. 3
To save the list of files:
.UNINDENT
.sp
\fBmpirun \-np 128 dwalk –output out.dwalk /dir/to/walk\fP
.INDENT 0.0
.IP 4. 3
Print the file distribution for specified histogram based on the size
field from the top level directory.
.UNINDENT
.sp
\fBmpirun \-np 128 dwalk \-v –print \-d size:0,20,1G src/\fP
.SH SEE ALSO
.sp
The mpiFileUtils source code and all documentation may be downloaded
from <\fI\%https://github.com/hpc/mpifileutils\fP>
.SH AUTHOR
HPC
.SH COPYRIGHT
2022, LLNL/LANL/UT-Battelle/DDN
.\" Generated by docutils manpage writer.
.
